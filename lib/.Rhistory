{
author_list[k] = trimws(author_list[k])
}
temp_split = temp_split[temp_split != ""]
journal = temp_split[length(temp_split)]
title = temp_split[length(temp_split) - 1]
temp_row[1,1] = author_id
temp_row[1,2] = cluster_id
temp_row[1,3] = citation_id
temp_row[1,4] = list(author_list))
temp_row[1,5] = title
temp_row[1,6] = journal
colnames(temp_row) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
paper_df = rbind(paper_df, temp_row, make.row.names = FALSE)
}
}
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
save(paper_df, file = "../output/CleanData.RData")
return(paper_df)
}
returnCleanData = function()
{
paper_df = as.data.frame(matrix(ncol = 6))
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
filenames = list.files("../data/nameset")[-13] #Returns list of all files and removes README file
for(i in 1:1)
{
filename = paste("../data/nameset/", filenames[i], sep = "")
file_df = read.delim2(file = filename, header = FALSE, sep = "\n")
for(j in 1:nrow(file_df))
{
temp_row = as.data.frame(matrix(ncol = ncol(paper_df)))
temp_number = strsplit(as.character(file_df[j,1]), split = " ")[[1]][1]
cluster_id = strsplit(temp_number, split = "_")[[1]][1]
citation_id = strsplit(temp_number, split = "_")[[1]][2]
author_id = paste(i, ".", cluster_id, sep = "")
temp_split = strsplit(as.character(file_df[j,1]), split = "[<>]")
temp_split = temp_split[[1]]
author_string = gsub("[[:digit:]]", "", as.character(temp_split[1]))
author_string = gsub("[_]", "", as.character(author_string))
author_string = trimws(author_string)
author_list = strsplit(author_string, split = ";")[[1]]
for(k in 1:length(author_list))
{
author_list[k] = trimws(author_list[k])
}
temp_split = temp_split[temp_split != ""]
journal = temp_split[length(temp_split)]
title = temp_split[length(temp_split) - 1]
temp_row[1,1] = author_id
temp_row[1,2] = cluster_id
temp_row[1,3] = citation_id
temp_row[1,4] = list(author_list))
temp_row[1,5] = title
temp_row[1,6] = journal
colnames(temp_row) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
paper_df = rbind(paper_df, temp_row, make.row.names = FALSE)
}
}
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
save(paper_df, file = "../output/CleanData.RData")
return(paper_df)
}
#Set working directory to lib folder of your repository
#setwd("C:/Users/Vikas/OneDrive/Cloud Workspace/Documents/Columbia/Senior/Applied Data Science/Project 4/Spr2017-proj4-team-5/lib")
returnCleanData = function()
{
paper_df = as.data.frame(matrix(ncol = 6))
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
filenames = list.files("../data/nameset")[-13] #Returns list of all files and removes README file
for(i in 1:1)
{
filename = paste("../data/nameset/", filenames[i], sep = "")
file_df = read.delim2(file = filename, header = FALSE, sep = "\n")
for(j in 1:nrow(file_df))
{
temp_row = as.data.frame(matrix(ncol = ncol(paper_df)))
temp_number = strsplit(as.character(file_df[j,1]), split = " ")[[1]][1]
cluster_id = strsplit(temp_number, split = "_")[[1]][1]
citation_id = strsplit(temp_number, split = "_")[[1]][2]
author_id = paste(i, ".", cluster_id, sep = "")
temp_split = strsplit(as.character(file_df[j,1]), split = "[<>]")
temp_split = temp_split[[1]]
author_string = gsub("[[:digit:]]", "", as.character(temp_split[1]))
author_string = gsub("[_]", "", as.character(author_string))
author_string = trimws(author_string)
author_list = strsplit(author_string, split = ";")[[1]]
for(k in 1:length(author_list))
{
author_list[k] = trimws(author_list[k])
}
temp_split = temp_split[temp_split != ""]
journal = temp_split[length(temp_split)]
title = temp_split[length(temp_split) - 1]
temp_row[1,1] = author_id
temp_row[1,2] = cluster_id
temp_row[1,3] = citation_id
temp_row[1,4] = list(author_list)
temp_row[1,5] = title
temp_row[1,6] = journal
colnames(temp_row) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
paper_df = rbind(paper_df, temp_row, make.row.names = FALSE)
}
}
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
save(paper_df, file = "../output/CleanData.RData")
return(paper_df)
}
test = returnCleanData()
View(test)
returnCleanData = function()
{
paper_df = as.data.frame(matrix(ncol = 6))
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
filenames = list.files("../data/nameset")[-13] #Returns list of all files and removes README file
for(i in 1:1)
{
filename = paste("../data/nameset/", filenames[i], sep = "")
file_df = read.delim2(file = filename, header = FALSE, sep = "\n")
for(j in 1:nrow(file_df))
{
temp_row = as.data.frame(matrix(ncol = ncol(paper_df)))
temp_number = strsplit(as.character(file_df[j,1]), split = " ")[[1]][1]
cluster_id = strsplit(temp_number, split = "_")[[1]][1]
citation_id = strsplit(temp_number, split = "_")[[1]][2]
author_id = paste(i, ".", cluster_id, sep = "")
temp_split = strsplit(as.character(file_df[j,1]), split = "[<>]")
temp_split = temp_split[[1]]
author_string = gsub("[[:digit:]]", "", as.character(temp_split[1]))
author_string = gsub("[_]", "", as.character(author_string))
author_string = trimws(author_string)
author_list = as.vector(strsplit(author_string, split = ";")[[1]])
for(k in 1:length(author_list))
{
author_list[k] = trimws(author_list[k])
}
temp_split = temp_split[temp_split != ""]
journal = temp_split[length(temp_split)]
title = temp_split[length(temp_split) - 1]
temp_row[1,1] = author_id
temp_row[1,2] = cluster_id
temp_row[1,3] = citation_id
temp_row[1,4] = list(author_list)
temp_row[1,5] = title
temp_row[1,6] = journal
colnames(temp_row) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
paper_df = rbind(paper_df, temp_row, make.row.names = FALSE)
}
}
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
save(paper_df, file = "../output/CleanData.RData")
return(paper_df)
}
test = returnCleanData()
View(test)
author_list = as.vector(c("Vikas Arun", "Charles Renato"))
test = list(author_list)
test
test[[1]]
returnCleanData = function()
{
paper_df = as.data.frame(matrix(ncol = 6))
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
filenames = list.files("../data/nameset")[-13] #Returns list of all files and removes README file
for(i in 1:1)
{
filename = paste("../data/nameset/", filenames[i], sep = "")
file_df = read.delim2(file = filename, header = FALSE, sep = "\n")
for(j in 1:nrow(file_df))
{
temp_row = as.data.frame(matrix(ncol = ncol(paper_df)))
temp_number = strsplit(as.character(file_df[j,1]), split = " ")[[1]][1]
cluster_id = strsplit(temp_number, split = "_")[[1]][1]
citation_id = strsplit(temp_number, split = "_")[[1]][2]
author_id = paste(i, ".", cluster_id, sep = "")
temp_split = strsplit(as.character(file_df[j,1]), split = "[<>]")
temp_split = temp_split[[1]]
author_string = gsub("[[:digit:]]", "", as.character(temp_split[1]))
author_string = gsub("[_]", "", as.character(author_string))
author_string = trimws(author_string)
author_list = as.vector(strsplit(author_string, split = ";")[[1]])
for(k in 1:length(author_list))
{
author_list[k] = trimws(author_list[k])
}
temp_split = temp_split[temp_split != ""]
journal = temp_split[length(temp_split)]
title = temp_split[length(temp_split) - 1]
temp_row[1,1] = author_id
temp_row[1,2] = cluster_id
temp_row[1,3] = citation_id
temp_row[1,4] = list(author_list)
temp_row[1,5] = title
temp_row[1,6] = journal
colnames(temp_row) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
paper_df = rbind(paper_df, temp_row, make.row.names = FALSE)
}
}
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
save(paper_df, file = "../output/CleanData.RData")
return(paper_df)
}
test = returnCleanData()
test[2,4]
View(test)
class(author_list)
author_list
author_list = c("Vikas Arun", "Charles Renato")
as.list(author_list)
list("Vikas Arun", "Charles Renato")
unlist(list("Vikas Arun", "Charles Renato"))
list(author_list)
returnCleanData = function()
{
paper_df = as.data.frame(matrix(ncol = 6))
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
filenames = list.files("../data/nameset")[-13] #Returns list of all files and removes README file
for(i in 1:1)
{
filename = paste("../data/nameset/", filenames[i], sep = "")
file_df = read.delim2(file = filename, header = FALSE, sep = "\n")
for(j in 1:nrow(file_df))
{
temp_row = as.data.frame(matrix(ncol = ncol(paper_df)))
temp_number = strsplit(as.character(file_df[j,1]), split = " ")[[1]][1]
cluster_id = strsplit(temp_number, split = "_")[[1]][1]
citation_id = strsplit(temp_number, split = "_")[[1]][2]
author_id = paste(i, ".", cluster_id, sep = "")
temp_split = strsplit(as.character(file_df[j,1]), split = "[<>]")
temp_split = temp_split[[1]]
author_string = gsub("[[:digit:]]", "", as.character(temp_split[1]))
author_string = gsub("[_]", "", as.character(author_string))
author_string = trimws(author_string)
author_list = strsplit(author_string, split = ";")[[1]]
cat(paste("Class fo Author List", class(author_list)))
for(k in 1:length(author_list))
{
author_list[k] = trimws(author_list[k])
}
temp_split = temp_split[temp_split != ""]
journal = temp_split[length(temp_split)]
title = temp_split[length(temp_split) - 1]
temp_row[1,1] = author_id
temp_row[1,2] = cluster_id
temp_row[1,3] = citation_id
temp_row[1,4] = list(author_list)
temp_row[1,5] = title
temp_row[1,6] = journal
colnames(temp_row) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
paper_df = rbind(paper_df, temp_row, make.row.names = FALSE)
}
}
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
save(paper_df, file = "../output/CleanData.RData")
return(paper_df)
}
test = returnCleanData()
returnCleanData = function()
{
paper_df = as.data.frame(matrix(ncol = 6))
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
filenames = list.files("../data/nameset")[-13] #Returns list of all files and removes README file
for(i in 1:1)
{
filename = paste("../data/nameset/", filenames[i], sep = "")
file_df = read.delim2(file = filename, header = FALSE, sep = "\n")
for(j in 1:1)
{
temp_row = as.data.frame(matrix(ncol = ncol(paper_df)))
temp_number = strsplit(as.character(file_df[j,1]), split = " ")[[1]][1]
cluster_id = strsplit(temp_number, split = "_")[[1]][1]
citation_id = strsplit(temp_number, split = "_")[[1]][2]
author_id = paste(i, ".", cluster_id, sep = "")
temp_split = strsplit(as.character(file_df[j,1]), split = "[<>]")
temp_split = temp_split[[1]]
author_string = gsub("[[:digit:]]", "", as.character(temp_split[1]))
author_string = gsub("[_]", "", as.character(author_string))
author_string = trimws(author_string)
author_list = strsplit(author_string, split = ";")[[1]]
cat(author_list)
for(k in 1:length(author_list))
{
author_list[k] = trimws(author_list[k])
}
temp_split = temp_split[temp_split != ""]
journal = temp_split[length(temp_split)]
title = temp_split[length(temp_split) - 1]
temp_row[1,1] = author_id
temp_row[1,2] = cluster_id
temp_row[1,3] = citation_id
temp_row[1,4] = list(author_list)
temp_row[1,5] = title
temp_row[1,6] = journal
colnames(temp_row) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
paper_df = rbind(paper_df, temp_row, make.row.names = FALSE)
}
}
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
save(paper_df, file = "../output/CleanData.RData")
return(paper_df)
}
test = returnCleanData()
paper_df = as.data.frame(matrix(ncol = 6))
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
filenames = list.files("../data/nameset")[-13] #Returns list of all files and removes README file
filename = "../data/nameset/AGupta.txt"
file_df = read.delim2(file = filename, header = FALSE, sep = "\n")
temp_row = as.data.frame(matrix(ncol = ncol(paper_df)))
temp_number = strsplit(as.character(file_df[1,1]), split = " ")[[1]][1]
cluster_id = strsplit(temp_number, split = "_")[[1]][1]
citation_id = strsplit(temp_number, split = "_")[[1]][2]
author_id = paste(i, ".", cluster_id, sep = "")
author_id = 1.10
temp_split = strsplit(as.character(file_df[1,1]), split = "[<>]")
temp_split = temp_split[[1]]
author_string = gsub("[[:digit:]]", "", as.character(temp_split[1]))
author_string = gsub("[_]", "", as.character(author_string))
author_string = trimws(author_string)
author_list = strsplit(author_string, split = ";")[[1]]
author_list
for(k in 1:length(author_list))
{
author_list[k] = trimws(author_list[k])
}
author_list
list(author_list)
blah = list(author_list)
blah
blah[[1]][6]
returnCleanData = function()
{
paper_df = as.data.frame(matrix(ncol = 6))
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
filenames = list.files("../data/nameset")[-13] #Returns list of all files and removes README file
for(i in 1:1)
{
filename = paste("../data/nameset/", filenames[i], sep = "")
file_df = read.delim2(file = filename, header = FALSE, sep = "\n")
for(j in 1:1)
{
temp_row = as.data.frame(matrix(ncol = ncol(paper_df)))
temp_number = strsplit(as.character(file_df[j,1]), split = " ")[[1]][1]
cluster_id = strsplit(temp_number, split = "_")[[1]][1]
citation_id = strsplit(temp_number, split = "_")[[1]][2]
author_id = paste(i, ".", cluster_id, sep = "")
temp_split = strsplit(as.character(file_df[j,1]), split = "[<>]")
temp_split = temp_split[[1]]
author_string = gsub("[[:digit:]]", "", as.character(temp_split[1]))
author_string = gsub("[_]", "", as.character(author_string))
author_string = trimws(author_string)
author_list = strsplit(author_string, split = ";")[[1]]
cat(author_list)
for(k in 1:length(author_list))
{
author_list[k] = trimws(author_list[k])
}
temp_split = temp_split[temp_split != ""]
journal = temp_split[length(temp_split)]
title = temp_split[length(temp_split) - 1]
temp_row[1,1] = author_id
temp_row[1,2] = cluster_id
temp_row[1,3] = citation_id
temp_row[1,4] = list(author_list)
temp_row[1,5] = title
temp_row[1,6] = journal
colnames(temp_row) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
paper_df = rbind(paper_df, temp_row, make.row.names = FALSE)
}
}
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
save(paper_df, file = "../output/CleanData.RData")
return(paper_df)
}
test = returnCleanData()
View(test)
test[2,4]
returnCleanData = function()
{
paper_df = as.data.frame(matrix(ncol = 6))
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
filenames = list.files("../data/nameset")[-13] #Returns list of all files and removes README file
for(i in 1:1)
{
filename = paste("../data/nameset/", filenames[i], sep = "")
file_df = read.delim2(file = filename, header = FALSE, sep = "\n")
for(j in 1:nrow(file_df))
{
temp_row = as.data.frame(matrix(ncol = ncol(paper_df)))
temp_number = strsplit(as.character(file_df[j,1]), split = " ")[[1]][1]
cluster_id = strsplit(temp_number, split = "_")[[1]][1]
citation_id = strsplit(temp_number, split = "_")[[1]][2]
author_id = paste(i, ".", cluster_id, sep = "")
temp_split = strsplit(as.character(file_df[j,1]), split = "[<>]")
temp_split = temp_split[[1]]
author_string = gsub("[[:digit:]]", "", as.character(temp_split[1]))
author_string = gsub("[_]", "", as.character(author_string))
author_string = trimws(author_string)
author_list = strsplit(author_string, split = ";")
cat(author_list)
for(k in 1:length(author_list))
{
author_list[[1]][k] = trimws(author_list[k])
}
temp_split = temp_split[temp_split != ""]
journal = temp_split[length(temp_split)]
title = temp_split[length(temp_split) - 1]
temp_row[1,1] = author_id
temp_row[1,2] = cluster_id
temp_row[1,3] = citation_id
temp_row[1,4] = author_list
temp_row[1,5] = title
temp_row[1,6] = journal
colnames(temp_row) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
paper_df = rbind(paper_df, temp_row, make.row.names = FALSE)
}
}
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
save(paper_df, file = "../output/CleanData.RData")
return(paper_df)
}
test = returnCleanData()
returnCleanData = function()
{
paper_df = as.data.frame(matrix(ncol = 6))
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
filenames = list.files("../data/nameset")[-13] #Returns list of all files and removes README file
for(i in 1:1)
{
filename = paste("../data/nameset/", filenames[i], sep = "")
file_df = read.delim2(file = filename, header = FALSE, sep = "\n")
for(j in 1:nrow(file_df))
{
temp_row = as.data.frame(matrix(ncol = ncol(paper_df)))
temp_number = strsplit(as.character(file_df[j,1]), split = " ")[[1]][1]
cluster_id = strsplit(temp_number, split = "_")[[1]][1]
citation_id = strsplit(temp_number, split = "_")[[1]][2]
author_id = paste(i, ".", cluster_id, sep = "")
temp_split = strsplit(as.character(file_df[j,1]), split = "[<>]")
temp_split = temp_split[[1]]
author_string = gsub("[[:digit:]]", "", as.character(temp_split[1]))
author_string = gsub("[_]", "", as.character(author_string))
author_string = trimws(author_string)
author_list = strsplit(author_string, split = ";")
for(k in 1:length(author_list))
{
author_list[[1]][k] = trimws(author_list[k])
}
temp_split = temp_split[temp_split != ""]
journal = temp_split[length(temp_split)]
title = temp_split[length(temp_split) - 1]
temp_row[1,1] = author_id
temp_row[1,2] = cluster_id
temp_row[1,3] = citation_id
temp_row[1,4] = author_list
temp_row[1,5] = title
temp_row[1,6] = journal
colnames(temp_row) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
paper_df = rbind(paper_df, temp_row, make.row.names = FALSE)
}
}
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
save(paper_df, file = "../output/CleanData.RData")
return(paper_df)
}
test = returnCleanData()
View(test)
warnings()
returnCleanData = function()
{
paper_df = as.data.frame(matrix(ncol = 6))
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
filenames = list.files("../data/nameset")[-13] #Returns list of all files and removes README file
for(i in 1:length(filenames))
{
filename = paste("../data/nameset/", filenames[i], sep = "")
file_df = read.delim2(file = filename, header = FALSE, sep = "\n")
for(j in 1:nrow(file_df))
{
temp_row = as.data.frame(matrix(ncol = ncol(paper_df)))
temp_number = strsplit(as.character(file_df[j,1]), split = " ")[[1]][1]
cluster_id = strsplit(temp_number, split = "_")[[1]][1]
citation_id = strsplit(temp_number, split = "_")[[1]][2]
author_id = paste(i, ".", cluster_id, sep = "")
temp_split = strsplit(as.character(file_df[j,1]), split = "[<>]")
temp_split = temp_split[[1]]
author_string = gsub("[[:digit:]]", "", as.character(temp_split[1]))
author_string = gsub("[_]", "", as.character(author_string))
author_string = trimws(author_string)
author_list = strsplit(author_string, split = ";")
for(k in 1:length(author_list))
{
author_list[[1]][k] = trimws(author_list[k])
}
temp_split = temp_split[temp_split != ""]
journal = temp_split[length(temp_split)]
title = temp_split[length(temp_split) - 1]
temp_row[1,1] = author_id
temp_row[1,2] = cluster_id
temp_row[1,3] = citation_id
temp_row[1,4] = author_list
temp_row[1,5] = title
temp_row[1,6] = journal
colnames(temp_row) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
paper_df = rbind(paper_df, temp_row, make.row.names = FALSE)
}
}
colnames(paper_df) = c("AuthorID", "ClusterID", "CitationID", "AuthorList", "Title", "Journal")
save(paper_df, file = "../output/CleanData.RData")
return(paper_df)
}
test = returnCleanData()
View(test)
